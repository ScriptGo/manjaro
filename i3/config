# i3 config file (v4)
# Manjaro i3 minimal

# Modé”®é…ç½®
# Mod4=<Super>
# Mod1=<Alt>

set $mod Mod4
set $mod1 Mod1

# å­—ä½“
font pango: Noto Sans CJK SC Regular 12

############################# ä¸»é¢˜ç›¸å…³ ###########################################
# Set some nice colors      border     background   text       indicator
client.focused              #6272a4    #6272a4      #f8f8f2    #6272a4
client.unfocused            #282A36    #282A36      #8be9fd    #282A36
client.focused_inactive     #282A36    #282A36      #50fa7b    #282A36
client.urgent               #282A36    #282A36      #ff79c6    #282A36
client.placeholder          #282A36    #282A36      #8be9fd    #282A36

client.background           #FFFFFF

################################çª—å£é…ç½®#########################################

# çª—å£è¾¹æ¡†ç±»å‹ : normal(æ­£å¸¸)ï¼Œnone(æ— è¾¹æ¡†)ï¼Œpixel(è‡ªå®šä¹‰è¾¹æ¡†å¤§å°)
# normalé™¤äº†ç»˜åˆ¶çª—å£è¾¹æ¡†ä»¥å¤–ï¼Œè¿˜ä¼šæ˜¾ç¤ºçª—å£çš„æ ‡é¢˜æ 
# none é€‰é¡¹ä¸æ˜¾ç¤ºè¾¹æ¡†
# pixelé€‰é¡¹ä¼šåœ¨çª—å£å››å‘¨ç»˜åˆ¶è¾¹æ¡†
# <px>ç”¨æ¥æŒ‡å®šè¾¹æ¡†å¤§å°
# default_border normal <px>|none|pixel <px>
# default_floating_border normal<px>|none|pixel <px>

# æ™®é€šçª—å£çš„é»˜è®¤è¾¹æ¡†ç±»å‹
default_border none

# æµ®åŠ¨çª—å£çš„é»˜è®¤è¾¹æ¡†ç±»å‹
default_floating_border normal 2

# éšè—å±å¹•è¾¹ç¼˜é™„è¿‘çš„è¾¹æ¡†
hide_edge_borders both

#  çª—å£å¸ƒå±€(é»˜è®¤å¹³é“º)
# default:å¹³é“º, stacking:å †å , tabbed:æ ‡ç­¾
# workspace_layout default|stacking|tabbed

# åˆ‡æ¢çª—å£å¸ƒå±€
bindsym $mod1+s   layout stacking
bindsym $mod1+t   layout tabbed
bindsym $mod1+Tab layout toggle split

 # è‡ªåŠ¨åˆ‡æ¢åˆ°æ–°æ‰“å¼€çš„çª—å£
focus_on_window_activation smart

# å…¨å±æ¨¡å¼ä¸‹å¼¹å‡ºçª—å£é…ç½®
popup_during_fullscreen smart

# ç„¦ç‚¹è·Ÿéšé¼ æ ‡ç§»åŠ¨
focus_follows_mouse yes

# æ–°å»ºçª—å£çš„åˆ†å‰²æ–¹å‘
bindsym $mod+v split vertical
bindsym $mod+h split horizontal

# ç„¦ç‚¹åˆ‡æ¢åˆ°çˆ¶çª—å£
bindsym $mod+p focus parent

# ç„¦ç‚¹åˆ‡æ¢å›å­çª—å£
bindsym $mod+Shift+p focus child

 # çª—å£å…¨å±
bindsym $mod+f fullscreen toggle

# å…³é—­çª—å£
bindsym $mod+q kill

# ç§»åŠ¨çª—å£
# Left  ç§»åŠ¨å½“å‰çª—å£åˆ°å·¦ä¾§
# Down  ç§»åŠ¨å½“å‰çª—å£åˆ°ä¸‹ä¾§
# Up    ç§»åŠ¨å½“å‰çª—å£åˆ°ä¸Šä¾§
# Right ç§»åŠ¨å½“å‰çª—å£åˆ°å³ä¾§

bindsym $mod+Left  move left
bindsym $mod+Down  move down
bindsym $mod+Up    move up
bindsym $mod+Right move right

# çª—å£èšç„¦
# Left  èšç„¦åˆ°å·¦è¾¹çš„çª—å£
# Down  èšç„¦åˆ°ä¸‹è¾¹çš„çª—å£
# Up    èšç„¦åˆ°ä¸Šè¾¹çš„çª—å£
# Right èšç„¦åˆ°å³è¾¹çš„çª—å£

bindsym $mod1+Left  focus left
bindsym $mod1+Down  focus down
bindsym $mod1+Up    focus up
bindsym $mod1+Right focus right


# è°ƒæ•´çª—å£å¤§å°

bindsym $mod+s mode "çª—å£è°ƒæ•´"
mode "çª—å£è°ƒæ•´" {

# hçª—å£å®½åº¦å‡å°‘15ä¸ªåƒç´ 
# jçª—å£é«˜åº¦å¢åŠ 15ä¸ªåƒç´ 
# kçª—å£é«˜åº¦å‡å°‘15ä¸ªåƒç´ 
# lçª—å£å®½åº¦å¢åŠ 15ä¸ªåƒç´ 

bindsym h resize shrink width  15 px or 15 ppt
bindsym j resize grow   height 15 px or 15 ppt
bindsym k resize shrink height 15 px or 15 ppt
bindsym l resize grow   width  15 px or 15 ppt

# é€€å‡ºè°ƒæ•´æ¨¡å¼ : Enter or Escape
bindsym Return mode "default"
bindsym Escape mode "default"

}

################################################################################
###   æµ®åŠ¨çª—å£

# é™åˆ¶æµ®åŠ¨çª—å£å¤§å°
# å€¼ä¸º -1x -1 æ—¶çª—å£çš„æœ€å¤§å°ºå¯¸ä¸å—é™åˆ¶
# æœªå®šä¹‰æˆ–æŒ‡å®šä¸º0x0ï¼Œåˆ™i3å°†ä½¿ç”¨é»˜è®¤å€¼æ¥è®¾ç½®æœ€å¤§å°ºå¯¸

# floating_minimum_size <width> x <height>
# floating_maximum_size <width> x <height>

# è°ƒæ•´æµ®åŠ¨çª—å£
# æŒ‰ä¸‹ mod çš„åŒæ—¶æŒ‰ä¸‹å·¦é”®ä¸æ”¾ï¼Œç§»åŠ¨æµ®åŠ¨çª—å£
# æŒ‰ä¸‹ mod çš„åŒæ—¶æŒ‰ä¸‹å³é”®ä¸æ”¾ï¼Œè°ƒæ•´æ‚¬æµ®çª—å£å¤§å°
# æŒ‰ä¸‹ mod çš„åŒæ—¶æŒ‰ä¸‹Shifté”®çš„åŒæ—¶å†æŒ‰ä¸‹é¼ æ ‡å³é”®ä¸æ”¾ï¼Œå¯ä»¥æŒ‰æ¯”ä¾‹è°ƒæ•´æµ®åŠ¨çª—å£å¤§å°

floating_modifier $mod

# æŒ‡å®šç±»å‹çš„çª—å£ç»Ÿä¸€è®¾ç½®æˆæµ®åŠ¨ç±»å‹
for_window [window_role="pop-up|bubble|task_dialog|Preferences"] floating enable
for_window [window_type="dialog|menu"] floating enable

# ä»¥ä¸‹ç¨‹åºä½¿ç”¨æµ®åŠ¨çª—å£æ¨¡å¼

for_window [class="Xfce4-terminal"] floating enable
for_window [class="mpv"] floating enable
for_window [class="Pavucontrol"] floating enable
for_window [class ="Blueman-manager"] floating enable
for_window [class="jupyter-qtconsole"] floating enable
for_window [class="netease-cloud-music"] floating enable
for_window [class="Gimp"] floating enable
for_window [class="Xarchiver"] floating enable
for_window [class="GParted"] floating enable
for_window [class="Lxappearance"] floating enable
for_window [class="Manjaro Settings Manager"] floating enable
for_window [class="Pamac-manager"] floating enable
for_window [class="Pamac-updater"] floating enable
for_window [title="alsamixer"] floating enable border pixel 1
for_window [class="(?i)virtualbox"] floating enable border normal

# åœ¨å¹³é“ºçª—å£/æµ®åŠ¨çª—å£åˆ‡æ¢
bindsym $mod+Shift+space floating toggle

# åœ¨å¹³é“º/æµ®åŠ¨çª—å£ä¹‹é—´æ›´æ”¹ç„¦ç‚¹
bindsym $mod+space focus mode_toggle

# ç²˜æ»æµ®åŠ¨çª—å£
bindsym $mod+g fullscreen disable; floating enable; resize set 720 px 720 px; sticky enable

################################################################################

# æš‚å­˜çª—å£(é¢å¤–çš„å¯éšè—æµ®åŠ¨çª—å£ï¼Œå–æ¶ˆæµ®åŠ¨è¿˜åŸæˆæ™®é€šçª—å£)
 # å°†æ™®é€šçª—å£è½¬æ¢ä¸ºæš‚å­˜çª—å£
bindsym $mod+Shift+minus move scratchpad

# æ˜¾ç¤º/éšè—æš‚å­˜çª—å£
bindsym $mod+minus scratchpad show

################################################################################
### WorkSpace
################################################################################

# å°†å·¥ä½œåŒºæ”¾åˆ°æŒ‡å®šå±å¹•ä¸Š
# workspace <workspace> output <output>

# å·¥ä½œåŒºçš„é»˜è®¤æ‹†åˆ†æ–¹å‘
# é»˜è®¤æƒ…å†µä¸‹ï¼Œå®½å±å¹•æ˜¾ç¤ºå™¨ï¼ˆå®½åº¦å¤§äºé«˜åº¦ï¼‰å°†æ°´å¹³æ‹†åˆ†å±å¹•ï¼Œè€Œé«˜åº¦å¤§äºå®½åº¦çš„æ˜¾ç¤ºå™¨å°†å‚ç›´æ‹†åˆ†å±å¹•

# default_orientation horizontal|vertical|auto

# switch to workspace with urgent window automatically
for_window [urgent=latest] focus

# è‡ªå®šä¹‰å·¥ä½œåŒºåç§°

set $WS1   "1:ï…º"
set $WS2   "2:ğŸ“"
set $WS3   "3:ï„ "
set $WS5   "4:ï‰¨"
set $WS6   "5:ğŸµ"
set $WS7   "6:ï€“"

# è‡ªåŠ¨åˆ‡æ¢å·¥ä½œåŒº
workspace_auto_back_and_forth yes

# å¿«é€Ÿåˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œåŒº

bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6

# å°†å½“å‰æ´»åŠ¨çª—å£ç§»åŠ¨åˆ°æŒ‡å®šçš„å·¥ä½œåŒº(ä»…ç§»åŠ¨çª—å£ä¸ä¼šåˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œåŒº)

bindsym $mod+Ctrl+1	move container to workspace $WS1
bindsym $mod+Ctrl+2	move container to workspace $WS2
bindsym $mod+Ctrl+3	move container to workspace $WS3
bindsym $mod+Ctrl+4	move container to workspace $WS4
bindsym $mod+Ctrl+5	move container to workspace $WS5
bindsym $mod+Ctrl+6	move container to workspace $WS6

# ç§»åŠ¨å½“å‰æ´»åŠ¨çª—å£å¹¶åˆ‡æ¢åˆ°æŒ‡å®šçš„å·¥ä½œåŒº

bindsym $mod+Shift+1 move container to workspace $ws1; workspace $WS1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $WS2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $WS3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $WS4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $WS5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $WS6

# è‡ªåŠ¨å°†çª—å£æ”¾ç½®åˆ°æŒ‡å®šå·¥ä½œåŒº
# è¦è·å–ç±»å’Œå®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨xpropã€‚å•å‡»çª—å£åï¼Œå¯èƒ½ä¼šæœ‰è¿™æ ·å­çš„è¾“å‡º
# WM_CLASS(STRING) = "irssi", "URxvt"
# å…¶ä¸­â€œirssiâ€æ˜¯å®ä¾‹ï¼Œâ€URxvtâ€œæ˜¯ç±»

assign [class="(?i)Chrome"] $WS4
assign [class="netease-cloud-music"] $WS5
assign [title="htop"] $WS6

################################################################################
### å¿«é€Ÿå¯åŠ¨
################################################################################

bindsym $mod1 + d exec --no-startup-id rofi -show drun
bindsym $mod+Tab exec --no-startup-id rofi -show window

bindsym $mod+z exec --no-startup-id morc_menu
bindsym $mod+r exec --no-startup-id xfce4-terminal
bindsym $mod+d exec --no-startup-id doublecmd

bindsym $mod+e exec --no-startup-id pcmanfm
bindsym $mod+F3 exec --no-startup-id pcmanfm_pkexec
bindsym $mod+F5 exec xfce4-terminal -e 'mocp'

bindsym Print exec --no-startup-id i3-scrot
bindsym $mod+Print --release exec --no-startup-id i3-scrot -w
bindsym $mod+Shift+Print --release exec --no-startup-id i3-scrot -s

bindsym $mod+Shift+d --release exec "killall dunst; exec notify-send 'restart dunst'"
bindsym $mod+Ctrl+x --release exec --no-startup-id xkill

################################################################################
### å¼€æœºè‡ªå¯
################################################################################
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec --no-startup-id pkill compton; compton -b
exec --no-startup-id nm-applet
exec --no-startup-id xfce4-power-manager
exec --no-startup-id pamac-tray
exec --no-startup-id blueman-applet

# exec --no-startup-id clipit
# exec_always --no-startup-id sbxkb
# exec_always --no-startup-id ff-theme-util

exec --no-startup-id start_conky_maia
exec_always --no-startup-id fix_xcursor "Azenis"
exec_always --no-startup-id setcursor "Azenis"

exec_always --no-startup-id fcitx
exec --no-startup-id variety

# è‡ªåŠ¨é”å±
exec_always --no-startup-id xautolock -time 10 -locker 'i3lock -i ~/Pictures/Wallpapers/lock.png'

# é—²ç½®900ç§’åé»‘å±
exec_always --no-startup-id xset dpms 900

################################################################################
### ç³»ç»Ÿè®¾ç½®
################################################################################
#### å£°éŸ³
################################################################################################
exec -no-startup-id pulseaudio --start

# éœ€è¦é…åˆi3blocksè„šæœ¬ä½¿ç”¨
# é¼ æ ‡å·¦é”®/å³é”®åˆ‡æ¢è¾“å‡ºè®¾å¤‡
# é¼ æ ‡æ»šè½®å¢å¤§/å‡å°éŸ³é‡
# é¼ æ ‡ä¸­é—´é™éŸ³

bindsym XF86AudioRaiseVolume exec amixer -q -D pulse sset Master 5%+ && pkill -RTMIN+1 i3blocks
bindsym XF86AudioLowerVolume exec amixer -q -D pulse sset Master 5%- && pkill -RTMIN+1 i3blocks
bindsym XF86AudioMute exec amixer -q -D pulse sset Master toggle && pkill -RTMIN+1 i3blocks
################################################################################################

# é‡æ–°åŠ è½½i3é…ç½®æ–‡ä»¶
bindsym $mod+Shift+c reload

# é‡å¯i3(ä¿ç•™å¸ƒå±€/ä¼šè¯ï¼Œç”¨äºå‡çº§i3)
bindsym $mod+Shift+r restart

# é€€å‡ºi3
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'æ˜¯å¦ç¡®å®šé€€å‡ºi3? è¿™å°†å¯¼è‡´æ‰€æœ‰å·¥ä½œçª—å£è¢«å…³é—­.' -b 'ç¡®å®š' 'i3-msg exit'"

# é”å±
bindsym $mod+9 exec --no-startup-id i3lock -i ~/Pictures/Wallpapers/lock.png

#ç³»ç»Ÿå‘½ä»¤
bindsym $mod+0 mode "$mode_system"
set $mode_system ç³»ç»Ÿ : æ³¨é”€(L) ğŸ”¶ é‡å¯(R) ğŸ”´ å…³æœº(S) ğŸ”· å–æ¶ˆ(Esc)
mode "$mode_system" {
    bindsym l exec --no-startup-id i3exit logout, mode "default"
    bindsym r exec --no-startup-id i3exit reboot, mode "default"
    bindsym s exec --no-startup-id i3exit shutdown, mode "default"
    bindsym Escape mode "default"
}

################################################################################
### i3bar
################################################################################

bar {

i3bar_command i3bar -t
status_command i3blocks
# baræ˜¾ç¤ºä½ç½®
position top

# please set your primary output first. Example: 'xrandr --output eDP1 --primary'
# tray_output primary
# tray_output eDP1

# æ˜¯å¦æ˜¾ç¤ºç³»ç»Ÿæ‰˜ç›˜(é»˜è®¤æ˜¾ç¤º)
# tray_output none

# ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ä¹‹é—´çš„é—´éš”
tray_padding 2

# åˆ†éš”ç¬¦
# separator_symbol ":|:"

# é¼ æ ‡ç»‘å®š
bindsym button4 nop
bindsym button5 nop

# å­—ä½“è®¾ç½®
font pango: FuraCode Nerd Font Regular 12

# æ˜¯å¦æ˜¾ç¤ºå·¥ä½œåŒºæŒ‰é’®(é»˜è®¤æ˜¾ç¤º)
# workspace_buttons yes|no

# éšè—å·¥ä½œåŒºåå‰çš„æ•°å­—(é»˜è®¤æ˜¾ç¤º)
strip_workspace_numbers yes
# æ˜¯å¦æ˜¾ç¤ºç»‘å®šæ¨¡å¼æŒ‡ç¤ºå™¨(é»˜è®¤æ˜¾ç¤º)
# binding_mode_indicator yes

    colors {

# barçš„é¢œè‰²
background #333333aa

# çŠ¶æ€æ 
statusline #FFFFFFaa

# åˆ†éš”ç¬¦
separator #3f4751

#                    border   backgr     text
focused_workspace   #7CFC00   #0000FF    #ffffff   #292F34
active_workspace    #333333   #FFFF00    #ffffff   #FDF6E3
inactive_workspace  #333333   #333333    #888888   #EEE8D5
urgent_workspace    #2f343a   #900000    #ffffff   #E5201D

    }
}

# baræ˜¾ç¤ºæ–¹å¼(æ‰‹åŠ¨éšè—/æ˜¾ç¤º)
bindsym $mod+m bar mode toggle
################################################################################
### i3-gaps
################################################################################
gaps inner 6
gaps outer 1

smart_gaps on
smart_borders on

